<!DOCTYPE html>
<html>
<head>
  <title>Document</title>
</head>
<body>
  <script>
    // toString()
    // 배열안에 있는 문자들을 ,를 단위로 해서 하나의 문자열로 만든다.
    var fruits = ["Banana", "Orange", "Apple"]
    console.log(fruits.toString()); // Banana,Orange,Apple

    // join()
    // 배열 안의 문자들에 join의 인자를 붙여서 하나의 문자열로 만든다.
    console.log(fruits.join(" * ")); // Banana * Orange * Apple

    // pop()
    // 배열의 가장 마지막 element를 제거하고 제거된 element return
    var arr = fruits.pop();
    console.log(arr); // apple
    console.log(fruits); // Banana Orange

    // push()
    // 배열의 마기막에 새 element를 추가
    fruits.push("Kiwi");
    console.log(fruits); // Banana Orange Kiwi

    // shift()
    // 배열의 첫번째 element제거 후 제거된 element return
    var str = fruits.shift();
    console.log(fruits); // Orange Kiwi
    console.log(str); // Banana

    // unshift()
    // 배열의 첫번째에 새 element 추가
    fruits.unshift("Lemon");
    console.log(fruits); // Lemon Orange Kiwi

    // 배열 index로 접근
    fruits[0] = "Banana"
    console.log(fruits) // Banana Orange Kiwi

    fruits[fruits.length-1] = "Lemon" // 마지막 index 접근
    console.log(fruits); // Banana Orange Lemon

    // splice(a, b, c)
    // a : 시작 위치, b : 삭제할 element 수, c : 넣을 element (여러개도 가능)
    var fruits = ["Banana", "Orange", "Apple"];
    fruits.splice(1, 0, "Lemon", "Kiwi");
    console.log(fruits); // Banana Lemon Kiwi Orange Apple

    var fruits = ["Banana", "Orange", "Apple"];
    fruits.splice(1, 1, "Lemon", "Kiwi"); // 1번째 인자부터 1개만 삭제
    console.log(fruits); // Banana Lemon Kiwi Apple

    var fruits = ["Banana", "Orange", "Apple"];
    fruits.splice(1, 2, "Lemon", "Kiwi"); // 1번째 인자부터 2개 삭제
    console.log(fruits); // Banana Lemon Kiwi Apple

    // concat()
    // 배열 합치기
    var mycat1 = ["Ducksun"];
    var mycat2 = ["Duckman"];
    var mycats = mycat1.concat(mycat2);
    console.log(mycats);

    // slice(a, b)
    // a index 포함 b index 미포함으로 배열을 잘라옴.
    // 첫번째 인자만 입력했을 떄는 배열의 끝까지.
    var fruits = ["Banana", "Orange", "Apple"];
    var fruit2 = fruits.slice(1,2);
    console.log(fruit2); // Orange

    // sort()
    // 첫 글자 기준으로 오름차순 정렬
    console.log(fruits.sort());
    
    var points=[20, 100, 70, 40, 99];
    console.log(points); // [20, 100, 70, 40, 99]

    points.sort(function(a, b){
      // if(a>b){
      //   return 1; // -1 로하면 내림차순 정렬로 바뀜.
      // }
      // else if(a<b){
      //   return -1; // 1 로 하면 내림차순 정렬로 바뀜
      // }
      // else{
      //   return 0;
      // }
      return a-b; // 오름차순 정렬,  b-a 로 하면 내림차순 정렬
    });
    console.log(points); // [20, 40, 70, 99, 100]

    // reverse
    points.reverse(); // 배열의 내용을 반대로 뒤집음
    console.log(points);

    var persons = [
      {name:"Ha", point : 100},
      {name:"Kim", point : 57},
      {name:"Choi", point : 22},
      {name:"Park", point : 11}
    ]

    persons.sort(function(a,b){
      // 오름차순 정렬
      // if(a.point > b.point){
      //   return -1;
      // }
      // else if(a.point < b.point){
      //   return 1;
      // }
      // else {
      //   return 0;
      // }
//      return a.point > b.point ? 1 : // a.point > b.point 이면 1 리턴해라
//      return a.point > b.point ? 1 : a.point < b.point? -1 // a.point > b.point 면 1을 리턴, a.point < b.point 면 -1을 리턴
      return a.point > b.point ? 1 : a.point < b.point? -1 : 0; // a.point > b.point 면 1을 리턴, a.point < b.point 면 -1을 리턴 그것도 아니면 0을 리턴해라.
    })

    console.log(persons);

    // filter()
    // 조건에 맞는 배열만 return해줌
    var persons = [
      {name:"Ha", point : 100, city : "인천"},
      {name:"Kim", point : 57, city : "전주"},
      {name:"Choi", point : 22, city : "부산"},
      {name:"Park", point : 11, city : "서울"}
    ]

    var pass = persons.filter(function(person){ // 위의 persons object 배열을 가져와서 person 배열에 넣음.
      return person.point > 50;
    })
    console.log(pass); // Ha, Kim

    var seoul = persons.filter(function(seoulperson){
      return seoulperson.city == "서울";
    })
    console.log(seoul); // citu : 서울인 것만 return

    // reduce(a, b, c, d)
    // a : 계산한 값을 누적해서 갖고 있는 value
    // b : 현재 읽고 있는 배열 index의 value
    // c : 현재 읽고 있는 배열의 index값
    // d : 현재 읽고 있는 배열
    var arr1 = [1, 2, 3, 4];
    var total = arr1.reduce(function(a, b){
      return a+b;
    })
    console.log(total); // 10

    // map
    // object 구성요소를 재 배치할 수 있다.
    var userList = [
      {firstName : "정우", lastName : "하", email:"Ha@gmail.com"},
      {firstName : "정우", lastName : "김", email:"Kim@gmail.com"},
      {firstName : "정우", lastName : "최", email:"Choi@gmail.com"},
      {firstName : "정우", lastName : "박", email:"Park@gmail.com"},
    ];

    var userList2 = userList.map(function(user){
      return {fullName:user.lastName + user.firstName, firstName:user.firstName, lastName:user.lastName, email:user.email}
    });
    console.log(userList2);

  </script>
</body>
</html>